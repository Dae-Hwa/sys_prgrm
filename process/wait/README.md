# wait

`wait()` 는 프로세스를 대기상태로 변경시킨다.

[exec](../exec/README.md) 에서 설명한 것 처럼 `fork()` 이후 `exec()` 를 사용하여 자식 프로세스에 원하는 프로그램을 할당한다.

이 때 따로 지정을 하지 않으면 부모 프로세스와 자식 프로세스가 함께 계속해서 실행된다. 이 경우 만약 부모 프로세스가 먼저 종료된다면 자식 프로세스는 고아 프로세스가 된다.
> 자식에서 exit() 가 되면 SIGCHLD 시그널이 부모프로세스에 전송된다.
고아 프로세스가 되는 이유는 자식 프로세스가 종료되면 해당 정보를 메모리에 적재해두는데, 해당 정보를 부모 프로세스가 확인해야 프로세스가 완전히 종료되기 때문이다.
> 고아 프로세스를 좀비 프로세스라고 부르기도 한다.

이렇게 `fork()`, `exec()`, `wait()` 를 사용하는 것이 쉘 프로그래밍의 근간이 된다.

wait는 내부적으로 매크로를 사용하여 자식 프로세스의 결과값을 가지고 온다. `WIFEXITED` 이 대표적인 매크로이며 이를 이용해 자식 프로세스의 종료 결과에 따라 로직을 작성할 수 있다.